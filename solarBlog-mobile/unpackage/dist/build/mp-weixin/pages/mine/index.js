(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/index"],{"33df":function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=a(e("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function r(t,n,e,o,a,r,i){try{var u=t[r](i),s=u.value}catch(c){return void e(c)}u.done?n(s):Promise.resolve(s).then(o,a)}function i(t){return function(){var n=this,e=arguments;return new Promise((function(o,a){var i=t.apply(n,e);function u(t){r(i,o,a,u,s,"next",t)}function s(t){r(i,o,a,u,s,"throw",t)}u(void 0)}))}}var u={data:function(){return{isLogin:!1,user:{avatar:"/static/avatar.png",memberLevel:1,nickname:"罗小黑",currentValue:10,totalValue:100},blogInfo:{articleCount:99,messageCount:99,viewsCount:99,userCount:99}}},computed:{growthValue:function(){if(!this.isLogin)return 0;var t=this.user,n=t.currentValue,e=t.totalValue;return n/e*100}},onShow:function(){this.isLogin=t.getStorageSync("isLogin"),this.getUserInfo(),this.getBlogInfo()},methods:{onPullDownRefresh:function(){var n=this;return i(o.default.mark((function e(){return o.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.isLogin){e.next=3;break}return e.next=3,n.$http("/admin").then((function(t){n.saveBlogInfo(t)}));case 3:return e.next=5,n.getBlogInfo();case 5:t.stopPullDownRefresh();case 6:case"end":return e.stop()}}),e)})))()},getUserInfo:function(){this.user.avatar=t.getStorageSync("avatar"),this.user.nickname=t.getStorageSync("nickname"),this.user.memberLevel=parseInt(t.getStorageSync("articleLikeSet").length/10),this.user.currentValue=t.getStorageSync("articleLikeSet").length,this.user.totalValue=10*(this.user.memberLevel+1)},getBlogInfo:function(){this.blogInfo.articleCount=t.getStorageSync("articleCount"),this.blogInfo.messageCount=t.getStorageSync("messageCount"),this.blogInfo.viewsCount=t.getStorageSync("viewsCount"),this.blogInfo.userCount=t.getStorageSync("userCount")},saveBlogInfo:function(n){t.setStorageSync("articleCount",n.data.articleCount),t.setStorageSync("messageCount",n.data.messageCount),t.setStorageSync("viewsCount",n.data.viewsCount),t.setStorageSync("userCount",n.data.userCount)},toLogin:function(){this.isLogin||t.navigateTo({url:"/pages/mixLogin/index"})},contractMe:function(){console.log("联系作者"),t.navigateTo({url:"/pages/mine/author/author"})},logout:function(){var n=this;t.showModal({title:"退出登录",content:"您确定要退出登录吗？",success:function(e){e.confirm?n.$http("/logout").then((function(e){e.flag?(n.user.nickName="",n.user.avatar="/static/avatar.png",n.isLogin=!1,t.clearStorage()):t.showToast({title:e.message,icon:"none"})})):e.cancel&&console.log("用户点击取消")}})},toUserInfo:function(){this.isLogin?t.navigateTo({url:"/pages/mine/userInfo/userInfo"}):t.navigateTo({url:"/pages/mixLogin/index"})},myVip:function(){t.navigateTo({url:"/pages/mine/chat/chat"})},toChat:function(){t.navigateTo({url:"/pages/mine/chat/chat"})},more:function(){t.showToast({title:"请期待更多精彩内容!",icon:"none"})},handleClearCache:function(){t.showModal({title:"清除缓存",content:"您确定要清除缓存吗？",success:function(n){n.confirm?t.showToast({title:"清除成功!",icon:"none"}):n.cancel&&console.log("用户点击取消")}})},onShareAppMessage:function(){return{from:"menu"}},onShareTimeline:function(){}}};n.default=u}).call(this,e("543d")["default"])},"424b":function(t,n,e){"use strict";e.r(n);var o=e("33df"),a=e.n(o);for(var r in o)"default"!==r&&function(t){e.d(n,t,(function(){return o[t]}))}(r);n["default"]=a.a},"524d":function(t,n,e){},"72a5":function(t,n,e){"use strict";e.r(n);var o=e("dfbd"),a=e("424b");for(var r in a)"default"!==r&&function(t){e.d(n,t,(function(){return a[t]}))}(r);e("78a6");var i,u=e("f0c5"),s=Object(u["a"])(a["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);n["default"]=s.exports},"74b2":function(t,n,e){"use strict";(function(t){e("9fd6");o(e("66fd"));var n=o(e("72a5"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=e,t(n.default)}).call(this,e("543d")["createPage"])},"78a6":function(t,n,e){"use strict";var o=e("524d"),a=e.n(o);a.a},dfbd:function(t,n,e){"use strict";var o;e.d(n,"b",(function(){return a})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return o}));var a=function(){var t=this,n=t.$createElement;t._self._c},r=[]}},[["74b2","common/runtime","common/vendor"]]]);